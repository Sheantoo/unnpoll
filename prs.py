import json
import database as db

def parse_json_document(json_arr):
    parsed_documents = []
    
    for arr in json_arr:
        data = json.loads(arr)
        doc_id = data["doc_id"]
        document_name = data["document_name"]
        doc_desc = data["doc_desc"]
        questions = data["questions"]
        
        parsed_questions = []
        for question in questions:
            question_text = question["questionText"]
            question_type = question["qustionType"]
            options = question["options"]
            open = question["open"]
            required = question["required"]
            
            parsed_question = {
                "question_text": question_text,
                "question_type": question_type,
                "options": options,
                "open": open,
                "required": required,
            }
            parsed_questions.append(parsed_question)
        
        parsed_document = {
            "doc_id": doc_id,
            "document_name": document_name,
            "doc_desc": doc_desc,
            "questions": parsed_questions,
        }
        
        parsed_documents.append(parsed_document)
    
    return parsed_documents
js_arr = [
    '{"doc_id":"2299a939-d9a3-6a33-815f-4f9dfc8a8fc0","document_name":"Предпочтения слушателей подкастов","doc_desc":"","questions":[{"questionText":"Укажите ваш пол","qustionType":"radio","options":[{"optionText":"Мужской"},{"optionText":"Женский"}],"open":false,"required":true},{"questionText":"Укажите ваш возраст","qustionType":"text","options":[{"optionText":"Option1"}],"open":false,"required":true},{"questionText":"Укажите уровень вашего образования","qustionType":"radio","options":[{"optionText":"неполное высшее"},{"optionText":"высшее"},{"optionText":"среднее"}],"open":false,"required":true},{"questionText":"Слушаете ли вы подкасты о культуре?","qustionType":"radio","options":[{"optionText":"Да"},{"optionText":"Нет"}],"open":false,"required":true},{"questionText":"Хотели бы вы узнать больше о событиях в сфере культуры вашего города? ","qustionType":"radio","options":[{"optionText":"Да"},{"optionText":"Нет"}],"open":false,"required":true},{"questionText":"В каком формате Вам было бы комфортнее слушать подкаст?","qustionType":"radio","options":[{"optionText":"Каждое направление - отдельный сезон подкаста"},{"optionText":"Каждый выпуск - новое направление, в одном сезоне несколько направлений в сфере культуры."}],"open":false,"required":true},{"questionText":"Оцените ваш интерес к теме культуры от 1 до 5:","qustionType":"radio","options":[{"optionText":"1"},{"optionText":"2"},{"optionText":"3"},{"optionText":"4"},{"optionText":"5"}],"open":true,"required":true}]}',
    '{"doc_id":"ae7e6026-c01b-f136-f5e1-c4244405e46a","document_name":"Жизненные планы молодежи","doc_desc":"","questions":[{"questionText":"КАК ИЗМЕНИЛАСЬ ВАША ЖИЗНЬ ЗА ПОСЛЕДНИЕ 1,5-2 ГОДА?","qustionType":"radio","options":[{"optionText":"Стала заметно лучше"},{"optionText":"Немного улучшилась"},{"optionText":"Практически не изменилась"},{"optionText":"Немного ухудшилась"},{"optionText":"Стала гораздо хуже"}],"open":false,"required":true},{"questionText":"С КАКИМИ ЧУВСТВАМИ ВЫ ДУМАЕТЕ О СВОЕМ БУДУЩЕМ?","qustionType":"radio","options":[{"optionText":"С надеждой, оптимизмом"},{"optionText":"Спокойно, без иллюзий"},{"optionText":"С беспокойством, тревогой"},{"optionText":"Со страхом и отчаянием"}],"open":false,"required":true},{"questionText":"КТО И ЧТО ПОМОГАЕТ ВАМ ПРИ ВЫБОРЕ МЕСТА БУДУЩЕЙ РАБОТЫ/УЧЕБЫ И МЕСТА ЖИТЕЛЬСТВА? ","qustionType":"checkbox","options":[{"optionText":"Советы семьи"},{"optionText":"Советы учителей (преподавателей)"},{"optionText":"Интернет"},{"optionText":"Советы друзей"},{"optionText":"Публикации в газетах и журналах"}],"open":false,"required":true},{"questionText":"КАК ВЫ ДУМАЕТЕ, ПОЧЕМУ МОЛОДЫЕ ЛЮДИ УЕЗЖАЮТ ИЗ СВОЕГО НАСЕЛЕННОГО ПУНКТА? ","qustionType":"checkbox","options":[{"optionText":"Хотят найти интересную работу"},{"optionText":"Хотят получать хорошую зарплату"},{"optionText":"Желают сделать карьеру"},{"optionText":"Хотят поменять место жительства"},{"optionText":"Стремятся получить более качественное образование"}],"open":false,"required":false},{"questionText":"Согласны ли вы с утверждением: За границей больше возможностей для карьерного роста","qustionType":"radio","options":[{"optionText":"Иметь высшее образование"},{"optionText":"Иметь престижную профессию"},{"optionText":"Сделать карьеру"},{"optionText":"Получать большую заработную плату"},{"optionText":"Реализовать свои таланты"}],"open":false,"required":false},{"questionText":"Согласны ли вы с утверждением: За границей выше уровень безопасности","qustionType":"radio","options":[{"optionText":"Иметь высшее образование"},{"optionText":"Иметь престижную профессию"},{"optionText":"Сделать карьеру"},{"optionText":"Получать большую заработную плату"},{"optionText":"Реализовать свои таланты"}],"open":false,"required":false},{"questionText":"Согласны ли вы с утверждением: За границей лучше развиты инфраструктура и услуги, которые улучшают комфорт жизни","qustionType":"radio","options":[{"optionText":"Иметь высшее образование"},{"optionText":"Иметь престижную профессию"},{"optionText":"Сделать карьеру"},{"optionText":"Получать большую заработную плату"},{"optionText":"Реализовать свои таланты"}],"open":false,"required":false},{"questionText":"Согласны ли вы с утверждением: Качество жизни в зарубежных странах выше, чем в России","qustionType":"radio","options":[{"optionText":"Иметь высшее образование"},{"optionText":"Иметь престижную профессию"},{"optionText":"Сделать карьеру"},{"optionText":"Получать большую заработную плату"},{"optionText":"Реализовать свои таланты"}],"open":false,"required":false},{"questionText":"Согласны ли вы с утверждением: Меня привлекает идея познания новых культур и обычаев, которые представлены в зарубежных странах","qustionType":"radio","options":[{"optionText":"Иметь высшее образование"},{"optionText":"Иметь престижную профессию"},{"optionText":"Сделать карьеру"},{"optionText":"Получать большую заработную плату"},{"optionText":"Реализовать свои таланты"}],"open":false,"required":false},{"questionText":"Согласны ли вы с утверждением: Я бы хотел(а) путешествовать по различным странам","qustionType":"radio","options":[{"optionText":"Иметь высшее образование"},{"optionText":"Иметь престижную профессию"},{"optionText":"Сделать карьеру"},{"optionText":"Получать большую заработную плату"},{"optionText":"Реализовать свои таланты"}],"open":false,"required":false},{"questionText":"Согласны ли вы с утверждением: Мне интересно изучать иностранные языки","qustionType":"radio","options":[{"optionText":"Иметь высшее образование"},{"optionText":"Иметь престижную профессию"},{"optionText":"Сделать карьеру"},{"optionText":"Получать большую заработную плату"},{"optionText":"Реализовать свои таланты"}],"open":false,"required":false},{"questionText":"ЧТО, ПО-ВАШЕМУ, ВАЖНО, ЧТОБЫ СЧИТАТЬ СЕБЯ УСПЕШНЫМ В ЖИЗНИ?","qustionType":"checkbox","options":[{"optionText":"Иметь высшее образование"},{"optionText":"Иметь престижную профессию"},{"optionText":"Сделать карьеру"},{"optionText":"Получать большую заработную плату"},{"optionText":"Реализовать свои таланты"}],"open":true,"required":false}]}',
    '{"doc_id":"60d367a0-ec26-f6cc-5059-0db11879d149","document_name":"Влияние интернет-рекламы на поведение студенческой молодежи","doc_desc":"","questions":[{"questionText":"Сколько времени в сутки Вы проводите в интернете?","qustionType":"radio","options":[{"optionText":"Менее 1 часа"},{"optionText":"1-2 часа"},{"optionText":"3-4 часа"},{"optionText":"Более 4 часов"}],"open":true,"required":false},{"questionText":"Какое устройство Вы чаще используете для выхода в интернет?","qustionType":"radio","options":[{"optionText":"Смартфон"},{"optionText":"Ноутбук"},{"optionText":"Планшет"},{"optionText":"Компьютер"}],"open":false,"required":false},{"questionText":"Какие из сервисов Вы чаще всего используете?","qustionType":"checkbox","options":[{"optionText":"Видеохостинги (YouTube)"},{"optionText":"Социальные сети"},{"optionText":"Веб-браузер"},{"optionText":"Онлайн-магазины"}],"open":false,"required":false},{"questionText":"Как Вы относитесь к рекламе в целом?","qustionType":"radio","options":[{"optionText":"Положительно"},{"optionText":"Нейтрально"},{"optionText":"Отрицательно"}],"open":false,"required":false},{"questionText":"Как Вы считаете, какие из следующих факторов наиболее сильно раздражают в рекламе?","qustionType":"radio","options":[{"optionText":"Навязчивость рекламы (всплывающие окна, автоматическое воспроизведение рекламы)"},{"optionText":"Нежелательная персонализация (реклама, подобранная под Вас путем сбора данных о Вашей активности)"},{"optionText":"Неправдивая реклама (реклама с нерабочими промокодами, обманом относительно цены, функций товара и тд.)"}],"open":false,"required":false},{"questionText":"Как часто Вы обращаете внимание на рекламу в интернете?","qustionType":"radio","options":[{"optionText":"Почти всегда"},{"optionText":"Часто"},{"optionText":"Иногда"},{"optionText":"Редко"},{"optionText":"Никогда"}],"open":false,"required":false},{"questionText":"Сколько раз за последний месяц Вы совершали покупки товаров, увиденных в интернет-рекламе?","qustionType":"radio","options":[{"optionText":"Ни разу"},{"optionText":"1-2 раза"},{"optionText":"3-5 раз"}],"open":false,"required":false},{"questionText":"Какие из следующих факторов наиболее важны для Вас при покупке товара?","qustionType":"checkbox","options":[{"optionText":"Мода"},{"optionText":"Страна-производитель"},{"optionText":"Цена"},{"optionText":"Качество"}],"open":false,"required":false},{"questionText":"Какие товары Вы чаще предпочитаете покупать вживую?","qustionType":"checkbox","options":[{"optionText":"Одежда и обувь"},{"optionText":"Электроника и техника"},{"optionText":"Продукты питания"},{"optionText":"Книги и другой досуг (фильмы, музыка)"}],"open":false,"required":false},{"questionText":"Как реклама чаще влияет на формуВашего выбора покупки онлайн или вживую?","qustionType":"radio","options":[{"optionText":"Побуждает к покупке вживую"},{"optionText":"Побуждает к онлайн покупке"},{"optionText":"Никак не влияет на выбор"},{"optionText":"Затрудняюсь ответить"}],"open":false,"required":false},{"questionText":"Согласны ли Вы с утверждением, что интернет-реклама влияет на Ваш выбор товаров?","qustionType":"radio","options":[{"optionText":"Полностью согласен"},{"optionText":"Согласен частично"},{"optionText":"Частично не согласен"},{"optionText":"Полностью не согласен"}],"open":false,"required":false},{"questionText":"Укажите ваш пол","qustionType":"radio","options":[{"optionText":"Мужской"},{"optionText":"Женский"}],"open":false,"required":false},{"questionText":"Укажите Ваш уровень образования","qustionType":"radio","options":[{"optionText":"Бакалавриат"},{"optionText":"Специалитет"},{"optionText":"Магистратура"},{"optionText":"Аспирантура"}],"open":false,"required":false}]}',
    '{"doc_id":"41f24764-8497-180c-37d3-a566068b170c","document_name":"фффф","doc_desc":"ппппп","questions":[{"questionText":"what is 2+2","qustionType":"checkbox","options":[{"optionText":"2"},{"optionText":"Berlin"},{"optionText":"4"}],"open":false,"required":true},{"questionText":"вопрос 2","qustionType":"radio","options":[{"optionText":"Option1"},{"optionText":"Option2"},{"optionText":"Option3"}],"open":true,"required":true},{"questionText":"кто убил пушкина","qustionType":"text","options":[{"optionText":"Option1"}],"open":false,"required":false}]}'
]



